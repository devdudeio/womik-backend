<template name="events">
    {{> eventlist}}
</template>

<template name="eventlist">
    <table class="ui selectable celled striped table">
        <thead>
        <tr>
            <th colspan="7">
                Events
                <a href="{{pathFor route='addEvent'}}" class="circular ui icon button mini">
                    <i class="icon plus"></i>
                </a>
            </th>
        </tr>
        </thead>
        <tbody>
        {{#each event in events}}
            {{> eventlistitem event}}
        {{/each}}
        </tbody>
    </table>
</template>

<template name="eventlistitem">
    {{#if isDisplayedInApp begin}}
        <tr style="background-color: rgba(51, 255, 77, 0.05);">
            <td>
                {{title}}
            </td>
            <td>{{author}}</td>
            <td>
                {{formatDate begin}} ({{timeAgo begin}})
            </td>
            <td>
                {{#if hidden}}
                    <div class="ui button small green" data-toggle="{{_id}}">live schalten</div>
                {{else}}
                    <div class="ui button small pink" data-toggle="{{_id}}">offline schalten</div>
                {{/if}}
            </td>
            <td>
                {{vendor}}
            </td>
            <td>
                <div class="ui button small pink" data-delete="{{_id}}">löschen</div>
            </td>
        </tr>
    {{else}}
        {{#if isOutdatedEvent begin}}
            <tr style="background-color: rgba(255, 22, 8, 0.06);">
                <td>
                    {{title}}
                </td>
                <td>{{author}}</td>
                <td>
                    {{formatDate begin}} ({{timeAgo begin}})
                </td>
                <td>
                    {{#if hidden}}
                        <div class="ui button small green" data-toggle="{{_id}}">live schalten</div>
                    {{else}}
                        <div class="ui button small pink" data-toggle="{{_id}}">offline schalten</div>
                    {{/if}}
                </td>
                <td>
                    {{vendor}}
                </td>
                <td>
                    <div class="ui button small pink" data-delete="{{_id}}">löschen</div>
                </td>
            </tr>
        {{else}}
            <tr style="background-color: rgba(255, 210, 42, 0.29);">
                <td>
                    {{title}}
                </td>
                <td>{{author}}</td>
                <td>
                    {{formatDate begin}} ({{timeAgo begin}})
                </td>
                <td>
                    {{#if hidden}}
                        <div class="ui button small green" data-toggle="{{_id}}">live schalten</div>
                    {{else}}
                        <div class="ui button small pink" data-toggle="{{_id}}">offline schalten</div>
                    {{/if}}
                </td>
                <td>
                    {{vendor}}
                </td>
                <td>
                    <div class="ui button small pink" data-delete="{{_id}}">löschen</div>
                </td>
            </tr>
        {{/if}}

    {{/if}}

</template>